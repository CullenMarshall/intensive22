<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arrays2</title>
</head>

<body>
    <script>
        // Here are the temperatures for each day in May, in degrees Fahrenheit.
        const mayTemps = [
            [86, 78, 85, 79, 86, 78, 80],
            [84, 82, 74, 85, 83, 82, 79],
            [76, 79, 80, 81, 82, 81, 78],
            [77, 79, 83, 84, 85, 80, 78],
            [83, 81, 78]
        ];
        const flatMay = mayTemps.flat();

        // Create a function that returns the temperature for a given day (1-31)--shit didnt do
        function dailyTemps() {

            for (let i = 0; i < mayTemps.length; i++) {
                for (let j = 0; j < mayTemps[i].length; j++) {
                    console.log(mayTemps[i][j]);
                }
            }
        }
        // dailyTemps()
        // function gettempday(dayNum)
        // let dayArr = mayTemps.flat();
        // return dayArr[dayNum - 1]

        // Create a function that returns an array that contains the lowest temp, highest temp, and average temp for the month. (eg. [54, 66, 58])
        // in mayTemps starting at index 0 if lowestTemp = index0...then compare index0 to index 1 and so on if it is lower= lowest temp;


        function lowHIGHavg() {
            lowHIGHavgArray = [];
            const flatMay = mayTemps.flat();
            let lowestTemp = Math.min(...flatMay);
            let highestTemp = Math.max(...flatMay);
            let sumTemps = flatMay.reduce((acc, temp) => acc + temp, 0);
            let averageTemp = Math.floor((sumTemps / flatMay.length));
            lowHIGHavgArray.push(lowestTemp, highestTemp, averageTemp);
            return lowHIGHavgArray;
        }

        console.log(lowHIGHavg())

        // Create a function that return the average temperature for a given week (1-5).
        function weeklyAvg(weekNum) {
            let weekIndex = weekNum - 1;

            let week = mayTemps[weekIndex];

            let sumTemps = week.reduce((acc, temp) => acc + temp, 0);
            let averageTemp = Math.floor(sumTemps / week.length);

            return averageTemp;
        }

        // // Create a function that returns the average temperature for a given day of the week ("M", "T", "W", "Th", "F", "S", "Su").
        function getAverageTempForDay(dayAbbreviation) {
            let index = -1;
            switch (dayAbbreviation) {
                case "Su":
                    index = 0;
                    break;
                case "M":
                    index = 1;
                    break;
                case "T":
                    index = 2;
                    break;
                case "W":
                    index = 3;
                    break;
                case "Th":
                    index = 4;
                    break;
                case "F":
                    index = 5;
                    break;
                case "S":
                    index = 6;
                    break;

            }

            const tempsForDay = mayTemps[index];
            const sumTemps = tempsForDay.reduce((acc, temp) => acc + temp, 0);
            const averageTemp = Math.floor(sumTemps / tempsForDay.length);

            return averageTemp;
        }

        console.log("Monday Average:" + getAverageTempForDay("M"));


        // Create a function that returns a new data set with the temperatures converted to Celsius.
        // C = (F-32)/(5/9)

        function convertMericanTemp(temps) {
            return temps.map(temp => Math.floor((temp - 32) * (5 / 9)));

        }
        TempsinCel = convertMericanTemp(flatMay)

        console.log(TempsinCel)

        // Create a function that prints out the mode and median temperatures for the month.
        // Mode: The mode is the value that appears most frequently in a data set.
        // Median: The median is the middle value of a data set, which separates the highest and lowest values equally.
        //  It is calculated by arranging the data set in order from lowest to highest and finding the value in the exact middle.
        function findMode(flatMay) {
            let counts = {};
            let maxCount = 0;
            let modes = [];

            for (let i = 0; i < flatMay.length; i++) {
                counts[flatMay[i]] = (counts[flatMay[i]] || 0) + 1;
                if (counts[flatMay[i]] > maxCount) {
                    maxCount = counts[flatMay[i]];
                    modes = [flatMay[i]];
                } else if (counts[flatMay[i]] === maxCount) {
                    modes.push(flatMay[i]);
                }
            }

            return modes;
        }

        let modes = findMode(flatMay);
        console.log("The mode is:", modes);


        // function findMedian() {


        let medARR = (flatMay.sort())
        let lowestAA = medARR[0];
        let lastElement = medARR[medARR.length - 1];

        medInArray = ((lastElement + lowestAA) / 2)



        console.log("This is the median: " + medInArray)





        // BONUS:
        // Rotate the May's temperature dataset of values by 90deg counter clock-wise.
        // Eg: [
        //     [1, 2, 3],
        //     [4, 5, 6],
        //     [7, 8]
        // ]
        // Rotated: [
        //     [3, 6],
        //     [2, 5, 8],
        //     [1, 4, 7]
        // ]
        
    </script>
</body>

</html>